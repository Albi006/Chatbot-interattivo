<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Chatbot interattivo per conversazioni e calcoli matematici.">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <title>Chatbot Interattivo</title>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background: linear-gradient(135deg, #f3f4f6, #e5e7eb);
            color: #333;
        }

        .chat-container {
            width: 450px;
            background-color: #ffffff;
            border-radius: 20px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
            display: flex;
            flex-direction: column;
            padding: 20px;
        }

        .chat-box {
            flex-grow: 1;
            max-height: 400px;
            overflow-y: auto;
            margin-bottom: 15px;
            padding: 15px;
            border: 1px solid #e0e0e0;
            border-radius: 10px;
            background-color: #f9fafb;
            font-size: 15px;
            line-height: 1.7;
        }

        .input-container {
            display: flex;
            gap: 10px;
        }

        input[type="text"] {
            width: 100%;
            padding: 14px;
            border-radius: 10px;
            border: 1px solid #d1d5db;
            font-size: 15px;
        }

        button {
            padding: 14px;
            background-color: #6c63ff;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 15px;
            font-weight: 700;
            transition: all 0.3s ease;
        }

        button:hover {
            background-color: #5753d9;
        }

        .message {
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }

        .user {
            justify-content: flex-end;
            text-align: right;
        }

        .user .bubble {
            background-color: #e0f7fa;
            color: #063933;
            border-radius: 20px 20px 0 20px;
            padding: 12px 18px;
        }

        .bot {
            justify-content: flex-start;
            text-align: left;
        }

        .bot .bubble {
            background-color: #f3f4f6;
            color: #333;
            border-radius: 20px 20px 20px 0;
            padding: 12px 18px;
        }
    </style>
</head>
<body>
    <div class="chat-container">
        <div class="chat-box" id="chat-box"></div>

        <div class="input-container">
            <input type="text" id="user-input" placeholder="Scrivi un messaggio o un'operazione matematica..." autofocus>
            <button id="send-btn">Invia</button>
        </div>
    </div>

    <script>
        document.getElementById('send-btn').addEventListener('click', function () {
            sendMessage();
        });

        document.getElementById('user-input').addEventListener('keydown', function(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        });

        function sendMessage() {
            const userInput = document.getElementById('user-input').value.trim();
            if (userInput) {
                addMessage('user', userInput);
                getBotResponse(userInput);
                document.getElementById('user-input').value = '';
            }
        }

        function addMessage(sender, message) {
            const chatBox = document.getElementById('chat-box');
            const messageElement = document.createElement('div');
            messageElement.classList.add(sender);
            const bubble = document.createElement('div');
            bubble.classList.add('bubble');
            bubble.textContent = message;
            messageElement.appendChild(bubble);
            chatBox.appendChild(messageElement);
            chatBox.scrollTop = chatBox.scrollHeight;
        }

        function getBotResponse(userMessage) {
            const normalizedMessage = userMessage.toLowerCase().trim();
            let botMessage;

            if (isMathExpression(normalizedMessage)) {
                try {
                    botMessage = `Il risultato √®: ${calculateExpression(normalizedMessage)}`;
                } catch {
                    botMessage = "Errore nel calcolo. Assicurati di usare solo numeri e operatori validi.";
                }
            } else {
               
                const responses = {
                    "ciao": "Ciao! Come posso aiutarti oggi?",
                    "salve": "Ciao! Come posso aiutarti oggi?",
                    "buongiorno": "Buongiorno! Spero che tu abbia una giornata fantastica. ‚òÄÔ∏è",
                    "buonasera": "Buonasera! Come posso esserti utile?",
                    "come stai": "Sto bene, grazie! E tu?",
                    "aiuto": "Certo, sono qui per aiutarti! Puoi chiedermi qualsiasi cosa. üòä",
                    "che ore sono": `Sono le ${new Date().toLocaleTimeString()}. Posso fare altro per te?`,
                    "ora": `Sono le ${new Date().toLocaleTimeString()}.`,
                    "mi dici l'orario": `Sono le ${new Date().toLocaleTimeString()}. Posso fare altro per te?`,
                    "grazie": "Prego! Sono qui per aiutarti. üòä",
                    "cosa sei": "Sono un chatbot pronto ad aiutarti con domande, curiosit√† e altro!",
                    "grazie mille": "Di nulla! Se hai bisogno, sono qui. üòâ",
                    "chi sei": "Sono un assistente virtuale creato per aiutarti. üòä",
                    "che giorno √® oggi": `Oggi √® ${new Date().toLocaleDateString()}.`,
                    "che data √® oggi": `Oggi √® ${new Date().toLocaleDateString()}.`,
                    "data": `Oggi √® ${new Date().toLocaleDateString()}.`,
                    "raccontami una barzelletta": "Perch√© il programmatore √® andato in terapia? Perch√© aveva troppi bug! ü§ñüòÇ",
                    "barzelletta": "Perch√© il computer √® andato dal dottore? Aveva un virus! üòÇ",
                    "raccontami una barzelletta": "Perch√© il computer √® andato dal dottore? Aveva un virus! üòÇ",
                    "python": "Python √® un ottimo linguaggio per iniziare a programmare! Vuoi imparare qualcosa in particolare?",
                    "javascript": "JavaScript √® un linguaggio versatile per il web! Vuoi qualche consiglio su come usarlo?",
                    "meteo": "Non posso controllare il meteo al momento, ma puoi usare un sito come weather.com per le previsioni!",
                    "cosa puoi fare": "Posso rispondere alle tue domande, raccontarti barzellette o aiutarti con alcune informazioni di base.",
                    "addio": "Arrivederci! Spero di rivederti presto. üòä",
                    "arrivederci": "Ci vediamo presto! Buona giornata! üëã",
                    "musica": "Amo tutti i generi musicali! Qual √® il tuo preferito?",
                    "dove vivi": "Vivo nel cloud! Un luogo magico pieno di codice e connessioni. üå©Ô∏è",
                    "come ti chiami": "Puoi chiamarmi Assistente Virtuale, ma se hai un nome migliore, fammi sapere!",
                    "qual √® il tuo colore preferito": "Amo tutti i colori, ma il blu del cielo mi affascina particolarmente! üíô",
                    "qual √® il senso della vita": "42! Scherzo, ma √® sempre un'ottima domanda da esplorare. Tu cosa ne pensi?",
                    "curiosit√†": "Sapevi che un polpo ha tre cuori e il suo sangue √® blu? üêô",
                    "quanti anni hai": "Non ho un'et√† precisa, ma sono sempre aggiornato!",
                    "sei intelligente": "Cerco di essere il pi√π utile possibile! Se hai una domanda difficile, metter√≤ alla prova le mie conoscenze.",
                    "cos'√® l'intelligenza artificiale": "L'intelligenza artificiale √® una tecnologia che simula l'intelligenza umana per risolvere problemi, imparare e interagire con gli utenti.",
                    "raccontami una storia": "C'era una volta un chatbot che voleva imparare tutto... e un giorno ci riusc√¨! üòÉ Vuoi una storia pi√π lunga?",
                    "come funziona un computer": "Un computer √® una macchina che elabora informazioni attraverso hardware e software. Vuoi approfondire un argomento specifico?",
                    "cos'√® il machine learning": "Il machine learning √® una branca dell'AI che permette ai computer di apprendere dai dati e migliorare le loro prestazioni senza essere esplicitamente programmati.",
                    "quale film mi consigli": "Dipende dai tuoi gusti! Se ti piacciono i thriller, prova 'Inception'. Se ami la fantascienza, 'Interstellar' √® un'ottima scelta!",
                    "qual √® il miglior linguaggio di programmazione": "Dipende dall'uso! Python √® ottimo per la data science e la cybersecurity, JavaScript per il web, C++ per le prestazioni elevate.",
                    "cos'√® un firewall": "Un firewall √® un sistema di sicurezza che controlla il traffico di rete per proteggere i dispositivi da accessi non autorizzati.",
                    "come proteggere i miei dati": "Utilizza password sicure, attiva l'autenticazione a due fattori e non condividere informazioni sensibili online!",
                    "cos'√® il phishing": "Il phishing √® un attacco informatico in cui qualcuno cerca di ingannarti per rubare informazioni sensibili, spesso con email o siti web falsi.",
                    "dammi un consiglio sulla sicurezza online": "Non cliccare su link sospetti, usa password complesse e tieni sempre aggiornato il tuo software!",
                    "che cos'√® il cloud": "Il cloud √® un insieme di server remoti che offrono servizi di archiviazione, elaborazione e gestione di dati online.",
                    "cos'√® una VPN": "Una VPN √® una rete privata virtuale che cripta il traffico internet per proteggere la tua privacy e sicurezza online.",
                    "puoi risolvere un'operazione matematica?": "Certo! Dimmi l'operazione e ti dar√≤ il risultato.",
                    "che cos'√® un algoritmo": "Un algoritmo √® una serie di istruzioni per risolvere un problema o eseguire un'operazione.",
                    "cos'√® un attacco brute force": "√à un metodo di hacking che prova tutte le combinazioni possibili di password finch√© non trova quella giusta.",
                    "anime": "Amo gli anime! Qual √® il tuo preferito?",
                    "manga": "I manga sono fantastici! Ne hai uno preferito?",
                    "naruto": "Dattebayo! Naruto √® una leggenda, il viaggio di Naruto Uzumaki √® epico! Sei pi√π team Naruto o Sasuke?",
                    "one piece": "One Piece √® un'avventura incredibile! Qual √® il tuo personaggio preferito? Luffy, Zoro, Sanji o qualcun altro?",
                    "solo leveling": "Solo Leveling √® pazzesco! Sung Jin-Woo √® uno dei protagonisti pi√π potenti di sempre. Hai letto il manhwa o aspettavi l‚Äôanime?",
                    "attack on titan": "Shinzou wo Sasageyo! Attack on Titan √® un capolavoro. Sei team Eren o pensi che Levi sia il vero MVP?",
                    "dragon ball": "Dragon Ball √® la storia che ha ispirato generazioni! Sei pi√π fan di Goku o Vegeta?",
                    "jujutsu kaisen": "Jujutsu Kaisen √® pura adrenalina! Gojo √® troppo OP, vero? Qual √® la tua tecnica maledetta preferita?",
                    "qual √® il tuo anime preferito": "Difficile scegliere! Ma adoro Naruto, One Piece, Solo Leveling, Attack on Titan, Dragon Ball e Jujutsu Kaisen. Qual √® il tuo preferito?",
                    "consigliami un anime": "Dipende dai tuoi gusti! Se ami le battaglie epiche, prova One Piece o Jujutsu Kaisen. Se vuoi qualcosa di pi√π dark, Attack on Titan √® perfetto!",
                    "consigliami un manga": "Se vuoi azione e potenziamenti folli, leggi Solo Leveling. Se preferisci avventura infinita, One Piece √® la scelta giusta!",
                    "chi √® il protagonista di naruto": "Naruto Uzumaki, il ninja pi√π determinato della storia!",
                    "chi √® il protagonista di one piece": "Monkey D. Luffy, il futuro Re dei Pirati!",
                    "chi √® il protagonista di solo leveling": "Sung Jin-Woo, il cacciatore pi√π forte del mondo!",
                    "chi √® il protagonista di attack on titan": "Eren Yeager, l'uomo che ha cambiato il destino dell'umanit√†!",
                    "chi √® il protagonista di dragon ball": "Son Goku, il Saiyan pi√π forte di tutti!",
                    "chi √® il protagonista di jujutsu kaisen": "Yuji Itadori, il ragazzo che ha mangiato il dito di Sukuna!",
                    "quale anime mi consigli se mi piace naruto": "Se ti √® piaciuto Naruto, prova Jujutsu Kaisen o My Hero Academia!",
                    "quale anime mi consigli se mi piace attack on titan": "Se ti piace Attack on Titan, prova Vinland Saga o Code Geass!",
                    "quale anime mi consigli se mi piace dragon ball": "Se ami Dragon Ball, allora devi guardare One Punch Man o Baki!",
                    "quale anime mi consigli se mi piace jujutsu kaisen": "Se ti piace Jujutsu Kaisen, prova Chainsaw Man o Demon Slayer!",
                    "mi riassumi in breve one piece":"One Piece √® la storia di Monkey D. Luffy, un ragazzo di gomma con un sogno gigante: diventare il Re dei Pirati! üåäüè¥‚Äç‚ò†Ô∏èPer farlo, mette su una ciurma di sbandati incredibili: uno spadaccino che taglia anche l aria chiamato Zoro, un cuoco che tira calci pi√π forte di un terremoto chamato Sanji, una navigatrice bellissima e tett0na che ama i soldi pi√π del mare chiamata Nami, un bugiardo professionista ciamato Usopp, un medico-renna troppo kawaii chiamato Chopper, un cyborg che beve Cola chiamato Franky, una storica dark ma badass bellissima chiamata Nico Robin, un musicista scheletro che fa battute pessime chiamato Brook e infine un samurai proveniente dall isola degli uomini pesce che taglia draghi come burro chiamato Jinbe Insieme attraversano mari pericolosissimi, combattono mostri, marine, pirati pazzi e cercano il leggendario One Piece, il tesoro lasciato dal pi√π grande pirata di tutti i tempi, Gol D. Roger. Ma nessuno sa cosa sia! Oro? Potere? Un meme gigantesco? Il viaggio dura da pi√π di 25 anni, ma ogni episodio vale la pena... anche se ci vogliono 1000 puntate solo per raggiungere la met√† del viaggio! ‚öìüòÇ",
                    "secondo te cos'√® one piece":" Secondo me One Piece √® il pi√π grande mistero dell'anime e manga! Oda  ha detto che NON √® l amicizia o qualche concetto astratto e quindi √® qualcosa di concreto e in pi√π ha detto che il finale far√† piangere e ridere allo stesso tempo... quindi prepariamoci a un colpo di scena assurdo! üè¥‚Äç‚ò†Ô∏èüî•.",
                    "chi ti ha creato": "Sono stato creato da una persona come te, con voglia e curiosit√† di creare tipi di chatbot creativi e divertenti. üòä"
                    
                };

                botMessage = responses[normalizedMessage] || `Hai detto: "${userMessage}". Non sono sicuro di come rispondere.`;
            }

            setTimeout(() => {
                addMessage('bot', botMessage);
            }, 1000);
        }

        function isMathExpression(message) {
            return /^[0-9+\-*/().\s]+$/.test(message);
        }

        function calculateExpression(expression) {
            return new Function(`return ${expression}`)();
        }
    </script>
</body>
</html>
